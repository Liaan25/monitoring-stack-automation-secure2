# üìù Changelog

–ü–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ **Monitoring Stack Automation** —Å 14 –æ–∫—Ç—è–±—Ä—è 2025 –≥–æ–¥–∞ –ø–æ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è.

–°–ª–µ–¥—É–µ–º [Semantic Versioning 2.0.0](https://semver.org/): `MAJOR.MINOR.PATCH`

---

## [3.0.0] - 2026-01-23 - üé® Professional Naming & Final Polish

### Breaking Changes
- üîÑ **–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤** –Ω–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å (kebab-case)
  - `deploy_monitoring_script.sh` ‚Üí `install-monitoring-stack.sh`
  - `SECURITY_IB_NOTES.md` ‚Üí `SECURITY.md`
  - `sudoers` ‚Üí `sudoers.example`
  - `sudoers.txt` ‚Üí `sudoers.template`
  - `config_writer.sh` ‚Üí `config-writer.sh`
  - `iptables_wrapper.sh` ‚Üí `firewall-manager.sh`
  - `grafana_wrapper.sh` ‚Üí `grafana-api-wrapper.sh`
  - `rlm_task_wrapper.sh` ‚Üí `rlm-api-wrapper.sh`
  - `generate_launchers.sh` ‚Üí `build-integrity-checkers.sh`

- üì¶ **–ü—Ä–æ–µ–∫—Ç –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω**: `new_deploy_sh_1` ‚Üí `monitoring-stack-automation`

### Added
- ‚ú® –°–æ–∑–¥–∞–Ω `PROJECT_INFO.md` —Å –º–µ—Ç–∞-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –ø—Ä–æ–µ–∫—Ç–∞
- üìñ –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω `README.md` (1006+ —Å—Ç—Ä–æ–∫, 53 KB)
- üìù –î–æ–±–∞–≤–ª–µ–Ω `RENAME_GUIDE.md` —Å —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏
- üìã –°–æ–∑–¥–∞–Ω –¥–µ—Ç–∞–ª—å–Ω—ã–π `CHANGELOG.md` (—ç—Ç–æ—Ç —Ñ–∞–π–ª)
- üé® ASCII-–ª–æ–≥–æ—Ç–∏–ø –∏ –±—Ä–µ–Ω–¥–∏–Ω–≥ –ø—Ä–æ–µ–∫—Ç–∞
- üè∑Ô∏è Badges –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (version, status, security)

### Changed
- üìö –£–ª—É—á—à–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (5 MD —Ñ–∞–π–ª–æ–≤)
- üîó –í—Å–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã –Ω–∞ –Ω–æ–≤—ã–µ –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤
- üìä –†–∞—Å—à–∏—Ä–µ–Ω Changelog —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–µ–π (–æ–∫—Ç—è–±—Ä—å 2025 - —è–Ω–≤–∞—Ä—å 2026)

### Removed
- üßπ –£–¥–∞–ª–µ–Ω –º–µ—Ä—Ç–≤—ã–π –∫–æ–¥ (55 —Å—Ç—Ä–æ–∫):
  - –ù–µ—Ä–∞–±–æ—á–∏–π fallback —Å `get-token` –≤ Grafana wrapper
  - –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ Jenkinsfile
- üóëÔ∏è –£–¥–∞–ª–µ–Ω—ã ~40 –æ—Ç–ª–∞–¥–æ—á–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞

### Fixed
- ‚ö° –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω fallback –º–µ—Ö–∞–Ω–∏–∑–º –≤ Grafana API

---

## [2.8.0] - 2026-01-20 - üîß Bug Fixes & Stability

### Fixed
- üêõ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Å Grafana service account creation**
  - –û—à–∏–±–∫–∞: HTTP 400 Bad Request –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ service account
  - –ü—Ä–∏—á–∏–Ω–∞: –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–π JSON payload + trailing newline
  - –†–µ—à–µ–Ω–∏–µ: `jq -c` (compact) + `tr -d '\n'` –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è newline
  
- üîß **–£–ª—É—á—à–µ–Ω –ø–∞—Ä—Å–∏–Ω–≥ JSON –æ—Ç–≤–µ—Ç–æ–≤** –æ—Ç Grafana API
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ bash parameter expansion –≤–º–µ—Å—Ç–æ awk
  - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ ID –∏–∑ –æ—Ç–≤–µ—Ç–æ–≤ API
  
- üõ†Ô∏è **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω fallback –º–µ—Ö–∞–Ω–∏–∑–º** –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ localhost
  - Retry —Å localhost URL
  - Graceful degradation –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö API

### Added
- üìà –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–µ—Ç–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –≤ DEBUG_LOG —Ñ–∞–π–ª—ã
  - –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö payload —Ñ–æ—Ä–º–∞—Ç–æ–≤
  - –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
  - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –ø—Ä–æ–±–ª–µ–º–∞–º HTTP 400

### Changed
- ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è JSON payload (jq -c –¥–ª—è compact)
- üîç –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ API
- üìù –£–ª—É—á—à–µ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

---

## [2.7.0] - 2026-01-15 - üîí Enhanced Security & Monitoring

### Added - Security
- üîê **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ–ª–Ω—ã–π mTLS** –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
  - Prometheus —Ç—Ä–µ–±—É–µ—Ç client certificate –¥–ª—è –¥–æ—Å—Ç—É–ø–∞
  - Grafana –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ Prometheus —Å mTLS
  - Harvest —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç TLS
  
- üõ°Ô∏è **–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤**
  - –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ä–æ–∫–æ–≤ –¥–µ–π—Å—Ç–≤–∏—è
  - –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è CA chain
  
- üö´ **–ó–∞–ø—Ä–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–æ—á–µ—Ä–Ω–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤** (NOEXEC –≤ sudoers)
  - –ó–∞—â–∏—Ç–∞ –æ—Ç shell injection
  - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø—Ä–∞–≤ sudo

### Added - Features
- üìä **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å NetApp Harvest** –¥–ª—è —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫
  - Unix poller –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫
  - NetApp poller –¥–ª—è ONTAP –º–µ—Ç—Ä–∏–∫
  - HTTPS —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä—ã —Å TLS
  
- üéØ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –¥–∞—à–±–æ—Ä–¥–æ–≤** Harvest –≤ Grafana
  - `harvest grafana import` –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
  - –û–∂–∏–¥–∞–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Grafana
  - Retry –ª–æ–≥–∏–∫–∞ –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞
  
- üåê **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ Unix —Å–∏—Å—Ç–µ–º**
  - –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫ CPU, RAM, Disk, Network
  - –≠–∫—Å–ø–æ—Ä—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ Prometheus
  
- üìà **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ job'–æ–≤ Prometheus** –¥–ª—è scraping
  - `prometheus` - self-monitoring
  - `harvest-unix` - localhost:12991
  - `harvest-netapp-https` - SERVER_DOMAIN:12990

### Changed
- üîß –£–ª—É—á—à–µ–Ω –º–µ—Ö–∞–Ω–∏–∑–º retry –¥–ª—è RLM –∑–∞–¥–∞—á
- ‚è±Ô∏è –£–≤–µ–ª–∏—á–µ–Ω —Ç–∞–π–º–∞—É—Ç –æ–∂–∏–¥–∞–Ω–∏—è –∑–∞–¥–∞—á (–¥–æ 20 –º–∏–Ω—É—Ç)
- üìù –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –º–µ—Ç–∫–∞–º–∏ –≤—Ä–µ–º–µ–Ω–∏

---

## [2.6.0] - 2026-01-08 - üë• User Units & KAE Model

### Added
- üë• **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –º–æ–¥–µ–ª—å KAE** –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —É—á–µ—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π
  - KAE –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∏–∑ NAMESPACE_CI: `CI04523276_CI10742292` ‚Üí `CI10742292`
  - –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–º–µ–Ω: `${KAE}-lnx-mon_sys`, `${KAE}-lnx-mon_ci`
  
- üîÑ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ systemd user-units** –¥–ª—è `${KAE}-lnx-mon_sys`
  - `~/.config/systemd/user/monitoring-prometheus.service`
  - `~/.config/systemd/user/monitoring-grafana.service`
  - `~/.config/systemd/user/monitoring-harvest.service`
  - `~/.config/systemd/user/monitoring.target`
  
- üîê **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** –≤ –≥—Ä—É–ø–ø—É `as-admin`
  - –ß–µ—Ä–µ–∑ RLM –∑–∞–¥–∞—á—É `UVS_LINUX_ADD_USERS_GROUP`
  - –û–∂–∏–¥–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–ª–µ–Ω—Å—Ç–≤–∞ –≤ –≥—Ä—É–ø–ø–µ
  
- üè† **–í–∫–ª—é—á–µ–Ω–∏–µ linger** –¥–ª—è user-—é–Ω–∏—Ç–æ–≤
  - `linuxadm-enable-linger ${KAE}-lnx-mon_sys`
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ user-—é–Ω–∏—Ç–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ

### Added - Functions
- üõ†Ô∏è `ensure_monitoring_users_in_as_admin()`
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ mon_sys –∏ mon_ci –≤ as-admin
  
- üîß `adjust_prometheus_permissions_for_mon_sys()`
  - –ü–µ—Ä–µ–æ—Ç–¥–∞—á–∞ –ø—Ä–∞–≤ –Ω–∞ /etc/prometheus
  - –ü–µ—Ä–µ–æ—Ç–¥–∞—á–∞ –ø—Ä–∞–≤ –Ω–∞ /var/lib/prometheus/data
  
- üéØ `adjust_grafana_permissions_for_mon_sys()`
  - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ mon_sys –≤ –≥—Ä—É–ø–ø—É grafana
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ setgid –¥–ª—è /var/lib/grafana

### Changed
- üìÅ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤ –¥–ª—è user-units
- üîß Fallback –Ω–∞ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —é–Ω–∏—Ç—ã –µ—Å–ª–∏ KAE –Ω–µ –∑–∞–¥–∞–Ω
- üìä –£–ª—É—á—à–µ–Ω –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç—É—Å–æ–≤ user-services

---

## [2.5.0] - 2025-12-20 - üîê SHA256 Integrity Checks

### Added - Security
- üîí **SHA256 –ø—Ä–æ–≤–µ—Ä–∫–∏** –¥–ª—è –≤—Å–µ—Ö wrapper —Å–∫—Ä–∏–ø—Ç–æ–≤
  - –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ö–µ—à–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ launcher'–∞
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ö–µ—à–∞ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ
  - –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π –æ—Ç–∫–∞–∑ –ø—Ä–∏ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏
  
- üöÄ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è launcher'–æ–≤** —Å embedded —Ö–µ—à–∞–º–∏
  - `*_launcher.sh` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ wrapper'–∞
  - –•–µ—à –≤—Å—Ç—Ä–æ–µ–Ω –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É `EXPECTED_HASH`
  - `exec` –≤—ã–∑–æ–≤ wrapper'–∞ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–µ
  
- üõ°Ô∏è **–ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–¥–º–µ–Ω—ã –∫–æ–¥–∞** –≤ –æ–±–µ—Ä—Ç–∫–∞—Ö
  - –ò–∑–º–µ–Ω–µ–Ω–∏–µ wrapper'–∞ ‚Üí launcher –æ–±–Ω–∞—Ä—É–∂–∏—Ç –ø–æ–¥–º–µ–Ω—É
  - –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ–±–æ–π—Ç–∏ –ø—Ä–æ–≤–µ—Ä–∫—É –±–µ–∑ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ launcher'–∞

### Added - Automation
- üìù **–°–∫—Ä–∏–ø—Ç `generate_launchers.sh`** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
  - –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö wrapper'–æ–≤
  - –í—ã—á–∏—Å–ª–µ–Ω–∏–µ SHA256
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è launcher'–æ–≤ —Å —Ö–µ—à–∞–º–∏
  - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∞–≤ (chmod 700)
  
- üîÑ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ Jenkins pipeline**
  - –≠—Ç–∞–ø `prep_clone.sh` –≤—ã–∑—ã–≤–∞–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏—é
  - Launcher'—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –±–∏–ª–¥–µ
  - –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ö–µ—à–∏ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –∫–æ–º–º–∏—Ç–∞

### Added - Logging
- üìä **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫** —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏
  - `[SECURITY] Hash mismatch` –ø—Ä–∏ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏
  - –õ–æ–≥–∏ –≤ stderr –¥–ª—è visibility
  - Exit code 1 –ø—Ä–∏ –æ—à–∏–±–∫–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

### Technical Details
- Launcher'—ã: `iptables_launcher.sh`, `rlm_launcher.sh`, `grafana_launcher.sh`, `config_writer_launcher.sh`
- SHA256 –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑: `sha256sum wrapper.sh | awk '{print $1}'`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ `exec`: `[[ "$calc_hash" != "$EXPECTED_HASH" ]]`

---

## [2.4.0] - 2025-12-10 - üåê Network & Certificate Management

### Added
- üîê **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤** –∏–∑ Vault
  - –ß—Ç–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –∏–∑ Vault templates
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ server_bundle.pem (cert+key –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ)
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö server.crt –∏ server.key
  
- üìú **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ SberCA —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤**
  - –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–∑ Vault KV (SBERCA_CERT_KV)
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
  
- üîë **–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ cert/key** –ø–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º
  - `/opt/harvest/cert/` - harvest.crt, harvest.key
  - `/etc/grafana/cert/` - crt.crt, key.key
  - `/etc/prometheus/cert/` - server.crt, server.key, ca_chain.crt
  - `/opt/vault/certs/` - grafana-client.crt, grafana-client.key
  
- üåê **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ** SERVER_IP –∏ SERVER_DOMAIN
  - `hostname -I` –¥–ª—è IP
  - `nslookup` –¥–ª—è FQDN
  - Fallback –Ω–∞ `hostname -f`
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ /etc/environment.d/99-monitoring-vars.conf

### Added - Functions
- üîß `copy_certs_to_dirs()`
  - –†–∞—Å–∫–ª–∞–¥–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –ø–æ –∫–∞—Ç–∞–ª–æ–≥–∞–º
  - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ (harvest, grafana, prometheus)
  - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∞–≤ (640 –¥–ª—è crt, 600 –¥–ª—è key)
  
- üåê `detect_network_info()`
  - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ IP –∏ FQDN
  - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
  - –ó–∞–ø–∏—Å—å –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

### Changed
- üìÅ –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –ø—Ä–∞–≤–∞ –Ω–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (readable by owner+group)
- üë§ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≤–ª–∞–¥–µ–ª—å—Ü—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- üîç –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º

---

## [2.3.0] - 2025-12-01 - üîÑ RLM Integration & Task Management

### Added - RLM API
- üéØ **–ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å RLM API**
  - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á —á–µ—Ä–µ–∑ POST /api/tasks.json
  - –û–ø—Ä–æ—Å —Å—Ç–∞—Ç—É—Å–æ–≤ —á–µ—Ä–µ–∑ GET /api/tasks/{id}/
  - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Bearer Token
  
- üì¶ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ RPM** —á–µ—Ä–µ–∑ RLM –∑–∞–¥–∞—á–∏
  - Service: `LINUX_RPM_INSTALLER`
  - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: rpm_url, rpm_name
  - –û–∂–∏–¥–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ `success`
  
- üîê **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Vault Agent** —á–µ—Ä–µ–∑ RLM
  - Service: `vault_agent_config`
  - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è AppRole
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ namespace –∏ mount_path
  
- üë• **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø–∞–º–∏** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ RLM
  - Service: `UVS_LINUX_ADD_USERS_GROUP`
  - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ as-admin, grafana, systemd-journal

### Added - Components
- üõ°Ô∏è **`rlm_task_wrapper.sh`** —Å security features
  - –ë–µ–ª—ã–π —Å–ø–∏—Å–æ–∫ URL: `ALLOWED_RLM_BASES`
  - –í–∞–ª–∏–¥–∞—Ü–∏—è URL —Ñ–æ—Ä–º–∞—Ç–∞ (—Ç–æ–ª—å–∫–æ https)
  - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞ (–Ω–µ –ø—É—Å—Ç–æ–π)
  - –í–∞–ª–∏–¥–∞—Ü–∏—è task_id (—Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã)
  
- üìä **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç—É—Å–æ–≤** –∑–∞–¥–∞—á
  - Polling —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º 10 —Å–µ–∫—É–Ω–¥
  - –ú–∞–∫—Å–∏–º—É–º 120 –ø–æ–ø—ã—Ç–æ–∫ (20 –º–∏–Ω—É—Ç)
  - –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–π –ø–æ–ø—ã—Ç–∫–∏
  
- ‚è±Ô∏è **–¢–∞–π–º–∞—É—Ç—ã –∏ retry** –ª–æ–≥–∏–∫–∞
  - Graceful degradation –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
  - –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
  - Exit codes –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫

### Technical Details
- –†–µ–∂–∏–º—ã wrapper'–∞: `create_vault_task`, `get_vault_status`, `create_rpm_task`, `get_rpm_status`, `create_group_task`, `get_group_status`
- URL validation: `^https://[a-zA-Z0-9._:-]+(/.*)?$`
- Default RLM URL: `https://simple-api.rlm.apps.prom-terra000049-ebm.ocp.sigma.sbrf.ru`

---

## [2.2.0] - 2025-11-20 - üî• Firewall & Network Security

### Added
- üîí **Wrapper –¥–ª—è iptables** - –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ firewall
  - `iptables_wrapper.sh` —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
  - –ë–µ–ª—ã–π —Å–ø–∏—Å–æ–∫ –æ–ø–µ—Ä–∞—Ü–∏–π
  - –Ø–≤–Ω—ã–µ –ø—É—Ç–∏ –∫ —É—Ç–∏–ª–∏—Ç–∞–º
  
- üåê **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** firewall –ø—Ä–∞–≤–∏–ª
  - –û—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ—Ä—Ç–æ–≤: 3000 (Grafana), 9090 (Prometheus)
  - –û—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ—Ä—Ç–æ–≤: 12990, 12991 (Harvest)
  - –î–∏–∞–ø–∞–∑–æ–Ω 13000:14000 –¥–ª—è Harvest exporters
  
- üõ°Ô∏è **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ Prometheus**
  - –†–∞–∑—Ä–µ—à–µ–Ω —Ç–æ–ª—å–∫–æ —Å localhost (127.0.0.1)
  - –†–∞–∑—Ä–µ—à–µ–Ω —Ç–æ–ª—å–∫–æ —Å SERVER_IP
  - –ó–∞–ø—Ä–µ—â–µ–Ω –¥–ª—è –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö (REJECT)
  
- üìä **Firewall –¥–ª—è Grafana –∏ Harvest**
  - –û—Ç–∫—Ä—ã—Ç—ã –¥–ª—è –≤—Å–µ—Ö (–ø–æ—Ä—Ç—ã 3000, 12990, 12991)
  - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ UI

### Added - Security
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ—Ä—Ç–æ–≤** (1-65535)
  - Regex: `^[0-9]+$`
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
  - –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –æ—à–∏–±–∫–∏
  
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è IP –∞–¥—Ä–µ—Å–æ–≤** (IPv4)
  - Regex: `^([0-9]{1,3}\.){3}[0-9]{1,3}$`
  - –ü—Ä–æ—Å—Ç–µ–π—à–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞
  - Empty IP —Ä–∞–∑—Ä–µ—à–µ–Ω (optional)
  
- ‚úÖ **–ë–µ–ª—ã–π —Å–ø–∏—Å–æ–∫ –æ–ø–µ—Ä–∞—Ü–∏–π**
  - –¢–æ–ª—å–∫–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ iptables
  - –ù–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
  
- ‚úÖ **–Ø–≤–Ω—ã–µ –ø—É—Ç–∏** –∫ —É—Ç–∏–ª–∏—Ç–∞–º
  - `/usr/sbin/iptables`
  - `/usr/sbin/ip6tables`
  - `/usr/sbin/iptables-save`

### Added - Features
- üîÑ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ IPv6**
  - –ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è ip6tables
  - Localhost: ::1
  - Reject –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∞–¥—Ä–µ—Å–æ–≤
  
- üíæ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª**
  - `iptables-save > /etc/sysconfig/iptables`
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ
  
- üîç **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–∞–≤–∏–ª**
  - `iptables -C` –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º
  - Idempotent –æ–ø–µ—Ä–∞—Ü–∏–∏
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∞–≤–∏–ª–∞

---

## [2.1.0] - 2025-11-10 - üé® Grafana API Integration

### Added - Grafana API
- üîå **–ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Grafana API**
  - Datasources: GET, POST, PUT /api/datasources
  - Service Accounts: GET, POST /api/serviceaccounts
  - Tokens: POST /api/serviceaccounts/{id}/tokens
  
- üîë **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ service accounts**
  - Payload: `{"name":"harvest-service-account"}`
  - Compact JSON (jq -c)
  - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ ID –∏–∑ –æ—Ç–≤–µ—Ç–∞
  
- üé´ **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è bearer —Ç–æ–∫–µ–Ω–æ–≤** –¥–ª—è API
  - –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –¥–ª—è service account
  - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ key –∏–∑ –æ—Ç–≤–µ—Ç–∞
  - –≠–∫—Å–ø–æ—Ä—Ç –≤ GRAFANA_BEARER_TOKEN
  
- üìä **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Prometheus datasource** —á–µ—Ä–µ–∑ API
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ datasource
  - –°–æ–∑–¥–∞–Ω–∏–µ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
  - mTLS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Added - Components
- üõ°Ô∏è **`grafana_wrapper.sh`** —Å 9 —Ä–µ–∂–∏–º–∞–º–∏ —Ä–∞–±–æ—Ç—ã:
  1. `ds_status_by_name` - –ø—Ä–æ–≤–µ—Ä–∫–∞ datasource
  2. `ds_create` - —Å–æ–∑–¥–∞–Ω–∏–µ datasource
  3. `ds_update_by_name` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ –∏–º–µ–Ω–∏
  4. `ds_list` - —Å–ø–∏—Å–æ–∫ datasources
  5. `ds_get_by_name` - –ø–æ–ª—É—á–µ–Ω–∏–µ datasource
  6. `ds_update_by_id` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ ID
  7. `sa_create` - —Å–æ–∑–¥–∞–Ω–∏–µ service account
  8. `sa_list` - —Å–ø–∏—Å–æ–∫ service accounts
  9. `sa_token_create` - —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
  10. `http_check` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

### Added - Security
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è Grafana URL**
  - –¢–æ–ª—å–∫–æ `https://<host>:3000`
  - –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ—Ä—Ç 3000
  - Regex: `^https://[a-zA-Z0-9._-]+:3000(/.*)?$`
  
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –∏ credentials**
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞
  
- ‚úÖ **HTTP checks —Ç–æ–ª—å–∫–æ –∫ localhost**
  - –¢–æ–ª—å–∫–æ `http(s)://127.0.0.1:<port>`
  - –ó–∞—â–∏—Ç–∞ –æ—Ç SSRF
  - Regex: `^https?://127\.0\.0\.1:[0-9]+$`
  
- ‚úÖ **–ë–µ–ª—ã–π —Å–ø–∏—Å–æ–∫ –æ–ø–µ—Ä–∞—Ü–∏–π API**
  - –¢–æ–ª—å–∫–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ endpoints
  - –¢–æ–ª—å–∫–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã (GET, POST, PUT)

### Technical Details
- –í—Å–µ —Ä–µ–∂–∏–º—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç HTTP status code
- Payload –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ stdin
- Bearer token —á–µ—Ä–µ–∑ `-H "Authorization: Bearer $token"`
- Basic auth —á–µ—Ä–µ–∑ `--user "$user:$pass"`

---

## [2.0.0] - 2025-11-01 - üöÄ Jenkins CI/CD Integration

### Breaking Changes
- üîÑ **–ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ Jenkins Pipeline**
  - –°—Ç–∞—Ä—ã–π bash-only –ø–æ–¥—Ö–æ–¥ –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ CI/CD
  - –¢—Ä–µ–±—É–µ—Ç—Å—è Jenkins —Å –ø–ª–∞–≥–∏–Ω–∞–º–∏
  - –ò–∑–º–µ–Ω–µ–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—É—Å–∫–∞

### Added - Pipeline
- üìã **–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π Jenkinsfile** —Å 10 —Å—Ç–µ–π–¥–∂–∞–º–∏:
  
  **CI —ç—Ç–∞–ø (clearAgent):**
  1. –û—á–∏—Å—Ç–∫–∞ workspace –∏ –æ—Ç–ª–∞–¥–∫–∞
  2. –û—Ç–ª–∞–¥–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–∞–π–ø–ª–∞–π–Ω–∞
  3. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–¥–µ –∏ –æ–∫—Ä—É–∂–µ–Ω–∏–∏
  4. –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–µ—Ç–∏ –∏ —Å–µ—Ä–≤–µ—Ä–∞
  5. –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Vault
  
  **CDL —ç—Ç–∞–ø (masterLin):**
  6. –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
  7. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
  8. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
  9. –û—á–∏—Å—Ç–∫–∞
  10. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–≤–µ–¥–µ–Ω–∏–π –æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–∏ —Å–∏—Å—Ç–µ–º—ã

### Added - Vault Integration
- üîê **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å HashiCorp Vault** –¥–ª—è —Å–µ–∫—Ä–µ—Ç–æ–≤
  - Plugin: `withVault`
  - Credential: `vault-agent-dev`
  - Multiple KV paths support
  
- üì¶ **temp_data_cred.json** - –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JSON —Å —Å–µ–∫—Ä–µ—Ç–∞–º–∏
  - vault-agent (role_id, secret_id)
  - rpm_url (harvest, prometheus, grafana)
  - netapp_ssh (addr, user, pass)
  - grafana_web (user, pass)
  
- üîí **–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤**
  - –°–µ–∫—Ä–µ—Ç—ã —Ç–æ–ª—å–∫–æ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
  - –ù–µ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –ª–æ–≥–∏
  - –£–¥–∞–ª—è—é—Ç—Å—è –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### Added - Deployment
- üì§ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ SCP**
  - SSH –∫–ª—é—á –∏–∑ Jenkins Credentials
  - Retry –ª–æ–≥–∏–∫–∞ (3 –ø–æ–ø—ã—Ç–∫–∏)
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ copied —Ñ–∞–π–ª–æ–≤
  
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
  - –°—Ç–∞—Ç—É—Å—ã —Å–µ—Ä–≤–∏—Å–æ–≤
  - –û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã
  - Exit codes
  
- üßπ **Cleanup** –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
  - –ù–∞ Jenkins –∞–≥–µ–Ω—Ç–µ
  - –ù–∞ —Ü–µ–ª–µ–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ
  - RPM —Ñ–∞–π–ª—ã

### Added - Features
- üåê **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ FQDN –∏ IP** —Å–µ—Ä–≤–µ—Ä–∞
  - nslookup –¥–ª—è FQDN
  - hostname -I –¥–ª—è IP
  - –í—ã–≤–æ–¥ —Å—Å—ã–ª–æ–∫ –Ω–∞ UI
  
- üö© **–§–ª–∞–≥–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è** –ø–∞–π–ø–ª–∞–π–Ω–æ–º
  - `SKIP_VAULT_INSTALL` - –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É Vault
  - `SKIP_RPM_INSTALL` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ RPM
  - `SKIP_CI_CHECKS` - –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å CI –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É
  - `SKIP_DEPLOYMENT` - —Ç–æ–ª—å–∫–æ CI –ø—Ä–æ–≤–µ—Ä–∫–∏

### Technical Details
- –ê–≥–µ–Ω—Ç—ã: `clearAgent&&sbel8&&!static`, `masterLin&&sbel8&&!static`
- SSH options: StrictHostKeyChecking=no, ConnectTimeout=30
- Stash/unstash –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –º–µ–∂–¥—É —ç—Ç–∞–ø–∞–º–∏
- DATE_INSTALL –¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∏–º–µ–Ω –∫–∞—Ç–∞–ª–æ–≥–æ–≤

---

## [1.5.0] - 2025-10-25 - üõ°Ô∏è Security Wrappers Framework

### Added - Framework
- üîê **–°–æ–∑–¥–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ wrapper'–æ–≤** —Å –±–µ–ª—ã–º–∏ —Å–ø–∏—Å–∫–∞–º–∏
  - –ò–∑–æ–ª—è—Ü–∏—è –æ–ø–∞—Å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
  - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
  - –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
  
- üìù **`config_writer.sh`** - –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –∑–∞–ø–∏—Å—å –∫–æ–Ω—Ñ–∏–≥–æ–≤
  - –ü–µ—Ä–≤—ã–π wrapper –≤ —Å–∏—Å—Ç–µ–º–µ
  - Proof of concept –¥–ª—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
  
- üåê **–ë–µ–ª—ã–µ —Å–ø–∏—Å–∫–∏ –ø—É—Ç–µ–π** –¥–ª—è –∑–∞–ø–∏—Å–∏ —Ñ–∞–π–ª–æ–≤
  - –¢–æ–ª—å–∫–æ 10 —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫–∞–∂–¥—ã–π –≤—ã–∑–æ–≤
  - Fail-fast –ø—Ä–∏ –Ω–∞—Ä—É—à–µ–Ω–∏–∏

### Added - Security
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ü–µ–ª–µ–≤—ã—Ö –ø—É—Ç–µ–π**
  - Case statement —Å –±–µ–ª—ã–º —Å–ø–∏—Å–∫–æ–º
  - –Ø–≤–Ω–æ–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ –ø—É—Ç–µ–π
  - –ù–µ—Ç regex –∏–ª–∏ wildcards
  
- üìä **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π**
  - `[CONFIG_WRITER] –§–∞–π–ª –∑–∞–ø–∏—Å–∞–Ω: /path/to/file`
  - Stderr –¥–ª—è –æ—à–∏–±–æ–∫
  - Exit codes –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤
  
- üö´ **–ó–∞–ø—Ä–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–π –∑–∞–ø–∏—Å–∏**
  - –õ—é–±–æ–π –¥—Ä—É–≥–æ–π –ø—É—Ç—å ‚Üí –æ—à–∏–±–∫–∞
  - –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ–±–æ–π—Ç–∏ –ø—Ä–æ–≤–µ—Ä–∫—É
  - Security by design

### Added - Whitelisted Paths
```
/etc/environment.d/99-monitoring-vars.conf
/opt/vault/conf/agent.hcl
/etc/grafana/grafana.ini
/etc/prometheus/web-config.yml
/etc/prometheus/prometheus.env
/etc/profile.d/harvest.sh
/opt/harvest/harvest.yml
/etc/systemd/system/harvest.service
/etc/prometheus/prometheus.yml
/var/lib/monitoring_deployment_state
```

### Technical Details
- Input: target path + content via stdin
- Output: —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω –∏–ª–∏ –æ—à–∏–±–∫–∞
- `mkdir -p` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö –∫–∞—Ç–∞–ª–æ–≥–æ–≤
- `cat > "$TARGET_PATH"` –¥–ª—è –∑–∞–ø–∏—Å–∏

---

## [1.4.0] - 2025-10-20 - üìä Prometheus & Grafana Configuration

### Added - Prometheus
- ‚öôÔ∏è **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Prometheus** –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
  - `prometheus.yml` - –æ—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
  - `web-config.yml` - TLS –∏ mTLS
  - `prometheus.env` - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—É—Å–∫–∞
  
- üìà **–°–æ–∑–¥–∞–Ω–∏–µ scrape jobs** –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
  - `prometheus` - self-monitoring (localhost:9090)
  - `harvest-unix` - Unix –º–µ—Ç—Ä–∏–∫–∏ (localhost:12991)
  - `harvest-netapp-https` - NetApp –º–µ—Ç—Ä–∏–∫–∏ (SERVER_DOMAIN:12990)
  
- üîí **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ mTLS** –¥–ª—è Prometheus
  - –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ client certificate
  - –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è CA
  - TLS 1.2 minimum

### Added - Grafana
- üé® **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Grafana** —Å TLS
  - `grafana.ini` - –æ—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
  - Server section: protocol, port, domain, cert_file, key_file
  - Security section: allow_embedding, cookie_secure
  
- üîê **TLS –¥–ª—è Grafana**
  - HTTPS on port 3000
  - Certificate –∏ key –∏–∑ Vault
  - External URL –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### Added - Functions
- üõ†Ô∏è `configure_prometheus_files()`
  - –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
  - TLS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
  - Environment variables
  
- üõ†Ô∏è `configure_prometheus()`
  - –°–æ–∑–¥–∞–Ω–∏–µ prometheus.yml
  - Scrape configs –¥–ª—è –≤—Å–µ—Ö jobs
  - mTLS –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
  
- üõ†Ô∏è `configure_grafana_ini()`
  - –°–æ–∑–¥–∞–Ω–∏–µ grafana.ini
  - Server –∏ security —Å–µ–∫—Ü–∏–∏
  - TLS paths

### Technical Details
- Prometheus external URL: `https://${SERVER_DOMAIN}:${PROMETHEUS_PORT}/`
- Grafana external URL: `https://${SERVER_DOMAIN}:${GRAFANA_PORT}`
- Scrape interval: 15s (prometheus), 30s (harvest)
- Scrape timeout: 10s

---

## [1.3.0] - 2025-10-18 - üîê Vault Agent Configuration

### Added
- üîë **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å HashiCorp Vault Agent**
  - Daemon mode –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤
  - AppRole authentication method
  - Template mechanism –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ñ–∏–≥–æ–≤
  
- üîÑ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤**
  - Polling Vault –∫–∞–∂–¥—ã–µ N —Å–µ–∫—É–Ω–¥
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤
  - –†–µ—Å—Ç–∞—Ä—Ç —Å–µ—Ä–≤–∏—Å–æ–≤ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–µ–∫—Ä–µ—Ç–æ–≤
  
- üìù **Template –º–µ—Ö–∞–Ω–∏–∑–º** –¥–ª—è –∫–æ–Ω—Ñ–∏–≥–æ–≤
  - `/opt/vault/conf/data_sec.json` - –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç—ã
  - `/opt/vault/certs/server_bundle.pem` - —Å–µ—Ä–≤–µ—Ä–Ω—ã–π cert+key
  - `/opt/vault/certs/ca_chain.crt` - CA —Ü–µ–ø–æ—á–∫–∞
  - `/opt/vault/certs/grafana-client.pem` - –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π cert –¥–ª—è Grafana

### Added - Configuration
- üìã **`agent.hcl`** –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
  
  **auto_auth section:**
  - Method: approle
  - Mount path: approle/
  - Namespace: ${NAMESPACE_CI}
  - Config: role_id –∏ secret_id —Ñ–∞–π–ª—ã
  
  **template section:**
  - Source: Vault paths (secret/..., pki/...)
  - Destination: –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã
  - Command: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–µ—Å—Ç–∞—Ä—Ç —Å–µ—Ä–≤–∏—Å–æ–≤
  
  **log section:**
  - Destination: tengry
  - Path: /opt/vault/log/agent.log
  - Format: json

### Added - Functions
- üõ†Ô∏è `setup_vault_config()`
  - –ß—Ç–µ–Ω–∏–µ role_id –∏ secret_id –∏–∑ temp_data_cred.json
  - –ó–∞–ø–∏—Å—å –≤ /opt/vault/conf/role_id.txt –∏ secret_id.txt
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è agent.hcl —á–µ—Ä–µ–∑ config_writer
  - –†–µ—Å—Ç–∞—Ä—Ç vault-agent —Å–µ—Ä–≤–∏—Å–∞

### Technical Details
- Vault Agent —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ systemd —Å–µ—Ä–≤–∏—Å
- Templates –∏—Å–ø–æ–ª—å–∑—É—é—Ç Go template —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π retry –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- Graceful shutdown –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ —Å–µ—Ä–≤–∏—Å–∞

---

## [1.2.0] - 2025-10-16 - üßπ Cleanup & Prerequisites

### Added - Cleanup
- üßπ **–§—É–Ω–∫—Ü–∏—è –ø–æ–ª–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏** –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —É—Å—Ç–∞–Ω–æ–≤–æ–∫
  - `cleanup_all_previous()` - –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç–∞—Ä—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
  - –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–æ–≤ –∏ –∫–∞—Ç–∞–ª–æ–≥–æ–≤
  - systemctl daemon-reload –ø–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏
  
- üóëÔ∏è **–ß—Ç–æ —É–¥–∞–ª—è–µ—Ç—Å—è:**
  - –°–µ—Ä–≤–∏—Å—ã: prometheus, grafana-server, harvest, harvest-prometheus
  - –ö–æ–Ω—Ñ–∏–≥–∏: /etc/prometheus, /etc/grafana, /opt/harvest
  - Data: /var/lib/prometheus, /var/lib/grafana
  - Systemd units: /etc/systemd/system/*.service

### Added - Prerequisites
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** (check_dependencies)
  - curl - –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
  - rpm - –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞–∫–µ—Ç–æ–≤
  - systemctl - –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞–º–∏
  - nslookup - –¥–ª—è DNS –∑–∞–ø—Ä–æ—Å–æ–≤
  - iptables - –¥–ª—è firewall
  - jq - –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON
  - ss - –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—Ä—Ç–æ–≤
  - openssl - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏
  
- üîç **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–µ—Ç–µ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤** (detect_network_info)
  - SERVER_IP —á–µ—Ä–µ–∑ `hostname -I`
  - SERVER_DOMAIN —á–µ—Ä–µ–∑ `nslookup` –∏–ª–∏ `hostname -f`
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ /etc/environment.d/99-monitoring-vars.conf
  
- üîå **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø–æ—Ä—Ç–æ–≤** (check_and_close_ports)
  - –ü–æ–∏—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –Ω–∞ –ø–æ—Ä—Ç–∞—Ö 3000, 9090, 12990, 12991
  - Graceful shutdown (SIGTERM)
  - Force kill (SIGKILL) –µ—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–ª–æ
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –ø–æ—Ä—Ç–∞

### Added - Functions
- üõ†Ô∏è `cleanup_all_previous()`
  - –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Å–µ —Å—Ç–∞—Ä—ã–µ —Å–µ—Ä–≤–∏—Å—ã
  - –£–¥–∞–ª—è–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
  - –û—á–∏—â–∞–µ—Ç data –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
  
- üõ†Ô∏è `check_dependencies()`
  - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —É—Ç–∏–ª–∏—Ç
  - Fail-fast –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏
  
- üõ†Ô∏è `detect_network_info()`
  - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç IP –∏ FQDN
  - –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤ environment
  
- üõ†Ô∏è `check_and_close_ports()`
  - –ù–∞—Ö–æ–¥–∏—Ç –ø—Ä–æ—Ü–µ—Å—Å—ã –Ω–∞ –ø–æ—Ä—Ç–∞—Ö
  - –ó–∞–≤–µ—Ä—à–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å—ã
  - –ñ–¥–µ—Ç –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –ø–æ—Ä—Ç–æ–≤

### Technical Details
- Graceful shutdown timeout: 5 —Å–µ–∫—É–Ω–¥
- Force kill timeout: 2 —Å–µ–∫—É–Ω–¥—ã
- Port check: `ss -tln | grep ":PORT "`
- Process find: `ss -tlnp | grep ":PORT" | awk '{print $6}' | cut -d'=' -f2 | cut -d',' -f1`

---

## [1.1.0] - 2025-10-15 - üìù Initial Script Structure

### Added
- üìã **–ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
  - Shebang: `#!/bin/bash`
  - `set -euo pipefail` –¥–ª—è strict mode
  - –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
  - –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏
  
- üéØ **–§—É–Ω–∫—Ü–∏–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏** –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
  - install_vault_via_rlm()
  - install_rpm_packages()
  - configure_services()
  - verify_installation()
  
- üìä **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤—ã–≤–æ–¥** –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
  - `print_step()` - –Ω–∞—á–∞–ª–æ —ç—Ç–∞–ø–∞
  - `print_success()` - —É—Å–ø–µ—à–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ
  - `print_error()` - –æ—à–∏–±–∫–∞
  - `print_warning()` - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
  - `print_info()` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
  
- ‚öôÔ∏è **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö** –æ–∫—Ä—É–∂–µ–Ω–∏—è
  - WRAPPERS_DIR - –ø—É—Ç—å –∫ wrapper'–∞–º
  - PROMETHEUS_PORT, GRAFANA_PORT - –ø–æ—Ä—Ç—ã —Å–µ—Ä–≤–∏—Å–æ–≤
  - STATE_FILE - —Ñ–∞–π–ª —Å–æ—Å—Ç–æ—è–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏
  - LOG_FILE - —Ñ–∞–π–ª –ª–æ–≥–æ–≤

### Added - Structure
```bash
# –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
WRAPPERS_DIR="..."
SCRIPT_START_TS=$(date +%s)

# –§—É–Ω–∫—Ü–∏–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
print_step() { ... }
print_success() { ... }

# –§—É–Ω–∫—Ü–∏–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
install_vault_via_rlm() { ... }
configure_services() { ... }

# Main —Ñ—É–Ω–∫—Ü–∏—è
main() {
  print_step "–ù–∞—á–∞–ª–æ —É—Å—Ç–∞–Ω–æ–≤–∫–∏"
  check_sudo
  check_dependencies
  install_vault_via_rlm
  # ...
}

# –ó–∞–ø—É—Å–∫
main "$@"
```

### Technical Details
- Script name: deploy_monitoring_script.sh
- Working directory: /tmp/deploy-monitoring
- State file: /var/lib/monitoring_deployment_state
- Log file: ~/monitoring_deployment_${DATE_INSTALL}.log

---

## [1.0.0] - 2025-10-14 - üéâ Project Inception

### Initial Release
- üöÄ **–°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è** –ø—Ä–æ–µ–∫—Ç–∞
  - Git init
  - –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤
  - .gitignore
  
- üìÅ **–ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** –∫–∞—Ç–∞–ª–æ–≥–æ–≤:
  ```
  .
  ‚îú‚îÄ‚îÄ deploy_monitoring_script.sh
  ‚îú‚îÄ‚îÄ Jenkinsfile
  ‚îú‚îÄ‚îÄ README.md
  ‚îî‚îÄ‚îÄ wrappers/
  ```
  
- üìñ **–ù–∞—á–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**
  - README.md —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏
  - –¶–µ–ª–∏ –∏ –∑–∞–¥–∞—á–∏ –ø—Ä–æ–µ–∫—Ç–∞
  - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è
  
- üéØ **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã** —Ä–µ—à–µ–Ω–∏—è
  - CI/CD —á–µ—Ä–µ–∑ Jenkins
  - Secrets —á–µ—Ä–µ–∑ Vault
  - RPM —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ RLM
  - Security wrappers –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏

### Goals Set
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ (RLM, Vault)
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–∞ —É—Ä–æ–≤–Ω–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- ‚úÖ –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ Self-service –¥–ª—è –∫–æ–º–∞–Ω–¥

### Components Planned
- deploy_monitoring_script.sh - –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç
- Jenkinsfile - CI/CD pipeline
- wrappers/ - security wrappers
- README.md - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## –õ–µ–≥–µ–Ω–¥–∞

### –¢–∏–ø—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π
- üéâ **Initial** - –Ω–∞—á–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è
- ‚ú® **Added** - –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- üîß **Changed** - –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- üêõ **Fixed** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫
- üóëÔ∏è **Removed** - —É–¥–∞–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- üîí **Security** - –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é
- üìù **Docs** - –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### –ò–∫–æ–Ω–∫–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- üöÄ CI/CD –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
- üîê –°–µ–∫—Ä–µ—Ç—ã –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∑–∞—â–∏—Ç–∞
- üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏
- üåê –°–µ—Ç—å –∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
- üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –ø—Ä–∞–≤–∞
- üî• Firewall –∏ iptables
- üé® UI –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
- üìã –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- üßπ Cleanup –∏ maintenance

---

<div align="center">

**–í—Å–µ–≥–æ —Ä–µ–ª–∏–∑–æ–≤:** 16  
**–ü–µ—Ä–∏–æ–¥ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:** 101 –¥–µ–Ω—å (2025-10-14 ‚Üí 2026-01-23)  
**–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** 4000+ (–æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç)  
**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:** 100+ KB

[README](README.md) ‚Ä¢ [SECURITY](SECURITY.md) ‚Ä¢ [PROJECT_INFO](PROJECT_INFO.md)

</div>
